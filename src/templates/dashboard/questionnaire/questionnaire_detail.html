{% extends 'dashboard/dashboard_base.html' %}
{% load static %}
{% load custom_parse %}
<!--Title-->
{% block title %}Dashboard - Start create{% endblock title %}
<!--Main content-->
<!-- Styles -->
{% block styles %}
<link
  rel="stylesheet"
  href="{% static 'css/dashboard/questionnaires/questionnaires.css' %}"
/>
{% endblock styles %}
<!-- Styles -->
<!--Header-->
{% block back %}
<div class="back-button">
  <a href="{% url 'questionnaires' %}">
    <img src="{% static 'images/icons/arrow-left.svg' %}" alt="Back button" />
  </a>
</div>
{% endblock back %}
<!---->
{% block title_page %}Створити анкету{% endblock title_page %}
<!--Header-->

<!--Content-->
{% block main %} {% load static %}
<div class="d-flex align-items-center justify-content-between">
  <div>
    <h3>{{ block_template.name }}</h3>
    <p>{{ block_template.description }}</p>
    <!-- <p><a href="{% url 'submit_survey' block_template.uuid %}">Відповісти</a></p> -->
  </div>
  <div class="d-flex align-items-center">
    <div class="offset-right-10 d-flex">
      <a href="{% url 'preview_questionnaire' block_template.id %}" class="button_reset btn-icon-hover">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_308_8659)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0025 4C14.73 4 17.3381 5.43062 19.7688 7.78115C20.598 8.58305 21.3482 9.43916 22.0086 10.2956C22.4071 10.8124 22.69 11.219 22.8449 11.4612L23.1895 12L22.8449 12.5388C22.69 12.781 22.4071 13.1876 22.0086 13.7044C21.3482 14.5608 20.598 15.417 19.7688 16.2189C17.3381 18.5694 14.73 20 12.0025 20C9.27492 20 6.66679 18.5694 4.23617 16.2189C3.40695 15.417 2.65677 14.5608 1.99637 13.7044C1.59787 13.1876 1.31494 12.781 1.16003 12.5388L0.81543 12L1.16003 11.4612C1.31494 11.219 1.59787 10.8124 1.99637 10.2956C2.65677 9.43916 3.40695 8.58305 4.23617 7.78115C6.66679 5.43062 9.27492 4 12.0025 4ZM20.4247 11.5169C19.8201 10.7327 19.1326 9.9482 18.3784 9.21885C16.285 7.19438 14.1075 6 12.0025 6C9.89739 6 7.71996 7.19438 5.6265 9.21885C4.8723 9.9482 4.18485 10.7327 3.58021 11.5169C3.44962 11.6862 3.32895 11.8478 3.21863 12C3.32895 12.1522 3.44962 12.3138 3.58021 12.4831C4.18485 13.2673 4.8723 14.0518 5.6265 14.7811C7.71996 16.8056 9.89739 18 12.0025 18C14.1075 18 16.285 16.8056 18.3784 14.7811C19.1326 14.0518 19.8201 13.2673 20.4247 12.4831C20.5553 12.3138 20.676 12.1522 20.7863 12C20.676 11.8478 20.5553 11.6862 20.4247 11.5169ZM12.0025 16C9.79333 16 8.00246 14.2091 8.00246 12C8.00246 9.79086 9.79333 8 12.0025 8C14.2116 8 16.0025 9.79086 16.0025 12C16.0025 14.2091 14.2116 16 12.0025 16ZM12.0025 14C13.107 14 14.0025 13.1046 14.0025 12C14.0025 10.8954 13.107 10 12.0025 10C10.8979 10 10.0025 10.8954 10.0025 12C10.0025 13.1046 10.8979 14 12.0025 14Z" fill="currentColor"/>
          </g>
          <defs>
          <clipPath id="clip0_308_8659">
          <rect width="24" height="24" fill="white" transform="translate(0.00244141)"/>
          </clipPath>
          </defs>
        </svg>          
      </a>
      <!-- <a href="#" class="button_reset btn-icon-hover">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 14.2512V18.0012H3.75L14.81 6.94125L11.06 3.19125L0 14.2512ZM17.71 4.04125C18.1 3.65125 18.1 3.02125 17.71 2.63125L15.37 0.291249C14.98 -0.0987512 14.35 -0.0987512 13.96 0.291249L12.13 2.12125L15.88 5.87125L17.71 4.04125Z" fill="currentColor"/>
        </svg>                    
      </a> -->
      <!-- <a href="{% url 'questionnaire_combine' block_template.id %}" class="button_reset btn-icon-hover">
        <img src="{% static 'images/icons/combine.svg' %}" alt="" />
      </a> -->
    </div>
    <a href="{% url 'create_combined_block' block_template.id %}" class="button_primary button_reset d-inline-block offset-right-5 d-flex align-items-center">
      <svg class="offset-right-5" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 14C6.71667 14 6.47933 13.904 6.288 13.712C6.096 13.5207 6 13.2833 6 13V8H1C0.716667 8 0.479 7.904 0.287 7.712C0.0956668 7.52067 0 7.28333 0 7C0 6.71667 0.0956668 6.479 0.287 6.287C0.479 6.09567 0.716667 6 1 6H6V1C6 0.716667 6.096 0.479 6.288 0.287C6.47933 0.0956668 6.71667 0 7 0C7.28333 0 7.521 0.0956668 7.713 0.287C7.90433 0.479 8 0.716667 8 1V6H13C13.2833 6 13.5207 6.09567 13.712 6.287C13.904 6.479 14 6.71667 14 7C14 7.28333 13.904 7.52067 13.712 7.712C13.5207 7.904 13.2833 8 13 8H8V13C8 13.2833 7.90433 13.5207 7.713 13.712C7.521 13.904 7.28333 14 7 14Z" fill="currentColor"/>
      </svg>        
      Створити комбінований блок
    </a>
    <!-- <a href="#" class="button_primary button_reset d-flex align-items-center">
      <svg class="offset-right-5" width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.5924 5.58L8.00244 12.17L4.41244 8.59L3.00244 10L8.00244 15L16.0024 7L14.5924 5.58ZM10.0024 0C4.48244 0 0.00244141 4.48 0.00244141 10C0.00244141 15.52 4.48244 20 10.0024 20C15.5224 20 20.0024 15.52 20.0024 10C20.0024 4.48 15.5224 0 10.0024 0ZM10.0024 18C5.58244 18 2.00244 14.42 2.00244 10C2.00244 5.58 5.58244 2 10.0024 2C14.4224 2 18.0024 5.58 18.0024 10C18.0024 14.42 14.4224 18 10.0024 18Z" fill="currentColor"/>
      </svg>                
      Зберегти
    </a> -->
  </div>
</div>
<div class="add-button add-field marg_top-20">
  <div class="d-flex align-items-center">
    <button class="button_reset button_primary offset-right-10 d-flex align-items-center">
      <svg class="offset-right-5" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.00244 14C6.71911 14 6.48177 13.904 6.29044 13.712C6.09844 13.5207 6.00244 13.2833 6.00244 13V8H1.00244C0.719108 8 0.481442 7.904 0.289442 7.712C0.0981082 7.52067 0.00244141 7.28333 0.00244141 7C0.00244141 6.71667 0.0981082 6.479 0.289442 6.287C0.481442 6.09567 0.719108 6 1.00244 6H6.00244V1C6.00244 0.716667 6.09844 0.479 6.29044 0.287C6.48177 0.0956668 6.71911 0 7.00244 0C7.28577 0 7.52344 0.0956668 7.71544 0.287C7.90677 0.479 8.00244 0.716667 8.00244 1V6H13.0024C13.2858 6 13.5231 6.09567 13.7144 6.287C13.9064 6.479 14.0024 6.71667 14.0024 7C14.0024 7.28333 13.9064 7.52067 13.7144 7.712C13.5231 7.904 13.2858 8 13.0024 8H8.00244V13C8.00244 13.2833 7.90677 13.5207 7.71544 13.712C7.52344 13.904 7.28577 14 7.00244 14Z" fill="currentColor"/>
      </svg>
      <p>Створити нове поле</p>      
    </button>
    <a href="{% url 'fetch_library_templates' block_template.id %}" class="button_reset button_primary_outline d-flex align-items-center">
      <svg class="offset-right-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11H4m15.5 5a.5.5 0 0 0 .5-.5V8a1 1 0 0 0-1-1h-3.75a1 1 0 0 1-.829-.44l-1.436-2.12a1 1 0 0 0-.828-.44H8a1 1 0 0 0-1 1M4 9v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-3.75a1 1 0 0 1-.829-.44L9.985 8.44A1 1 0 0 0 9.157 8H5a1 1 0 0 0-1 1Z"/>
      </svg>          
      <p class="offset-right-5">Вибрати із шаблонів</p>
      <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0.70249 11.3C0.519157 11.1167 0.42749 10.8833 0.42749 10.6C0.42749 10.3167 0.519157 10.0833 0.70249 9.9L4.60249 6L0.70249 2.1C0.519157 1.91667 0.42749 1.68333 0.42749 1.4C0.42749 1.11667 0.519157 0.883332 0.70249 0.699999C0.885823 0.516666 1.11916 0.424999 1.40249 0.424999C1.68582 0.424999 1.91916 0.516666 2.10249 0.699999L6.70249 5.3C6.80249 5.4 6.87349 5.50833 6.91549 5.625C6.95682 5.74167 6.97749 5.86667 6.97749 6C6.97749 6.13333 6.95682 6.25833 6.91549 6.375C6.87349 6.49167 6.80249 6.6 6.70249 6.7L2.10249 11.3C1.91916 11.4833 1.68582 11.575 1.40249 11.575C1.11916 11.575 0.885823 11.4833 0.70249 11.3Z" fill="currentColor"/>
      </svg>  
    </a>
  </div>
  <div class="dropdown-fields">
    <a href="{% url 'add_new_header_block' block_template.id %}" class="dropdown-item">Назва (заголовок) і опис</a>
    <a href="{% url 'add_new_field' block_template.id %}" class="dropdown-item">Поле для вводу</a>
    <a href="{% url 'add_new_textarea_field' block_template.id %}" class="dropdown-item">Поле для опису</a>
    <a href="{% url 'add_new_select_field' block_template.id %}" class="dropdown-item">Випадаючий список</a>
    <a href="{% url 'add_new_one_value' block_template.id %}" class="dropdown-item">Вибрати одне значення</a>
    <a href="{% url 'add_new_multiple_value' block_template.id %}"class="dropdown-item">Вибрати декілька значень</a>
    <a href="{% url 'add_new_boolean_field' block_template.id %}" class="dropdown-item">Так або ні</a>
    <a href="{% url 'add_new_phone_field' block_template.id %}" class="dropdown-item">Телефон</a>
    <a href="{% url 'add_new_date_field' block_template.id %}" class="dropdown-item">Дата</a>
  </div>
</div>
<div class="example-template marg_top-20">
  <div class="border-field-questionnaire">
    <!-- Added from library -->
    {% for template in block_template.library_templates.all %}
      {% if template.combined_block %}
        <div class="d-flex align-items-center justify-content-between main-title-menu">
          <div class="border-field-questionnaire wrap-quest">
            {% if template.combined_block.description_field %}
              <h3 class="marg_bottom-10">{{ template.combined_block.description_field.title }}</h3>
              <p class="">{{ template.combined_block.description_field.description }}</p>
            {% endif %}
            {% for field in template.combined_block.fields.all %}
              <div class="marg_top-25">
                <div class="group-form">
                  <label for="{{field.name}}" class="input_label">{{field.name}}</label>
                  {% if field.is_required %}
                    <p>
                      <img src="{% static 'images/icons/required.svg' %}" alt="" />
                    </p>
                  {% endif %}
                </div>
                {% if field.field_type == 'textarea' %}
                  <div class="d-flex justify-content-between main-title-menu">
                    <div class="w-100">
                      <textarea
                        id="{{field.name}}"
                        style="min-height: 100px;"
                        class="input_base_red"
                        placeholder="Введіть текст"
                        maxlength="{{ field.max_symbols }}"></textarea>
                    </div>
                  </div>
                {% elif field.field_type == 'number' and field.extra_tag == 'phone' %}
                  <div class="d-flex phoneForm">
                    <select class="input_base languageDropdown"></select>
                    <div class="selectedLanguage"></div>
                    <input type="text" class="input_base phoneNumberInput" />
                  </div>
                  <!-- <input
                    type="{{field.field_type}}"
                    class="input_base_red"
                    placeholder="Введіть число"
                    max="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
                  /> -->
                {% elif field.field_type == 'date' %}
                  <input
                    type="{{field.field_type}}"
                    class="input_base_red"
                    maxlength="{{ field.max_symbols }}"
                    max="{{field.max_symbols}}"
                  />
                {% elif field.field_type == 'boolean' %}
                  <div class="radio-container offset-left-20">
                    <input type="radio" name="some" value="true" />
                    <label for="true">Так</label>
                    <input type="radio" name="some" value="false" />
                    <label for="false">Ні</label>
                  </div>
                {% elif field.field_type == 'checkbox' %}
                  <div class="multi-container marg_top-10 offset-left-20">
                    {% for option in field.options|json_loads %}
                      <div class="d-flex g-30">
                        <label class="checkbox">
                          <input type="checkbox" />
                          <div class="circle"></div>
                          <div class="box">
                            <span class="checkmark"></span>
                          </div>
                        </label>
                        <p>{{ option }}</p>
                      </div>
                    {% endfor %}
                  </div>
                {% elif field.field_type == 'select' %}
                  <select class="input_base_red">
                    {% for option in field.options|json_loads %}
                      <option value="{{option}}">{{option}}</option>
                    {% endfor %}
                  </select>
                {% elif field.field_type == 'radio' %}
                  <div class="multi-container marg_top-10 offset-left-20">
                    {% for option in field.options|json_loads %}
                    <div class="d-flex g-30">
                      <input type="radio" value="{{ options }}" name="name" />
                      <label for="{{ forloop.counter }}">{{ option }}</label>
                    </div>
                    {% endfor %}
                  </div>
                {% else %}
                  <input
                    type="{{field.field_type}}"
                    class="input_base_red"
                    placeholder="Введіть текст"
                    maxlength="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
                  />
                {% endif %}
                {% if field.help_info %}
                  <p class="offset-left-5">
                    <small class="text-small-muted">{{field.help_info}}</small>
                  </p>
                {% endif %}
              </div>
            {% endfor%}
            {% if combined_block.allow_dublicate %}
              <div class="d-flex justify-content-end marg_top-20">
                <button class="button_red_outline" id="add-one-more-block" style="display: flex;">
                  <p>Додати ще</p>
                </button>
              </div>
            {% endif %}
          </div>
          <div class="relative">
            <div href="#" class="dropdown-setting">
              <a href="#" class="trigger">
                <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
              </a>
              <div class="dropdown-menu-setting">
                <a href="{% url 'create_combined_block_template' template.id %}" class="dropdown-item d-flex align-items-center">
                  <svg class="offset-right-5" width="12" height="12" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 14.2512V18.0012H3.75L14.81 6.94125L11.06 3.19125L0 14.2512ZM17.71 4.04125C18.1 3.65125 18.1 3.02125 17.71 2.63125L15.37 0.291249C14.98 -0.0987512 14.35 -0.0987512 13.96 0.291249L12.13 2.12125L15.88 5.87125L17.71 4.04125Z" fill="currentColor"/>
                  </svg>                    
                  Редагувати
                </a>
                <a href="{% url 'remove_library_template_from_block' template.id %}" class="dropdown-item red d-flex align-items-center">
                  <svg class="offset-right-5" width="11" height="13" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.00244 16C1.00244 17.1 1.90244 18 3.00244 18H11.0024C12.1024 18 13.0024 17.1 13.0024 16V4H1.00244V16ZM14.0024 1H10.5024L9.50244 0H4.50244L3.50244 1H0.00244141V3H14.0024V1Z" fill="currentColor"/>
                  </svg>                    
                  Видалити
                </a>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
    {% endfor %}
    <!-- Added from library -->
    {% if combined_blocks %}
    {% for combined_block in combined_blocks %}
    <div class="d-flex justify-content-between align-items-center main-title-menu">
      <div class="border-field-questionnaire wrap-quest">
          {% if combined_block.description_field %}
            <h3 class="marg_bottom-10">{{ combined_block.description_field.title }}</h3>
            <p class="">{{ combined_block.description_field.description }}</p>
        {% endif %}
        {% for field in combined_block.fields.all %}
              <div class="marg_top-25">
                  <div class="group-form">
                    <label for="{{field.name}}" class="input_label">{{field.name}}</label>
                    {% if field.is_required %}
                    <p>
                      <img src="{% static 'images/icons/required.svg' %}" alt="" />
                    </p>
                    {% endif %}
                  </div>
                  {% if field.field_type == 'textarea' %}
                    <div class="d-flex justify-content-between main-title-menu">
                      <div class="w-100">
                        <textarea
                          style="min-height: 100px;"
                          class="input_base_red"
                          placeholder="Введіть текст"
                          maxlength="{{ field.max_symbols }}"></textarea>
                      </div>
                    </div>
                  {% elif field.field_type == 'number' and field.extra_tag == 'phone' %}
                    <div class="d-flex phoneForm">
                      <select class="input_base languageDropdown"></select>
                      <div class="selectedLanguage"></div>
                      <input type="text" class="input_base phoneNumberInput" />
                    </div>
                  {% elif field.field_type == 'number' and not field.extra_tag %}
                    <input
                      type="{{field.field_type}}"
                      class="input_base_red"
                      placeholder="Введіть число"
                      max="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
                    />
                  {% elif field.field_type == 'date' %}
                    <input
                      type="{{field.field_type}}"
                      class="input_base_red"
                      maxlength="{{ field.max_symbols }}"
                      max="{{field.max_symbols}}"
                    />
                  {% elif field.field_type == 'boolean' %}
                    <div class="radio-container offset-left-20">
                      <input type="radio" name="some" value="true" />
                      <label for="true">Так</label>
                      <input type="radio" name="some" value="false" />
                      <label for="false">Ні</label>
                    </div>
                  {% elif field.field_type == 'checkbox' %}
                    <div class="multi-container marg_top-10 offset-left-20">
                      {% for option in field.options|json_loads %}
                        <div class="d-flex g-30">
                          <label class="checkbox">
                            <input type="checkbox" />
                            <div class="circle"></div>
                            <div class="box">
                              <span class="checkmark"></span>
                            </div>
                          </label>
                          <p>{{ option }}</p>
                        </div>
                      {% endfor %}
                    </div>
                  {% elif field.field_type == 'select' %}
                    <select class="input_base_red">
                      {% for option in field.options|json_loads %}
                        <option value="{{option}}">{{option}}</option>
                      {% endfor %}
                    </select>
                  {% elif field.field_type == 'radio' %}
                    <div class="multi-container marg_top-10 offset-left-20">
                      {% for option in field.options|json_loads %}
                      <div class="d-flex g-30">
                        <input type="radio" value="{{ options }}" name="name" />
                        <label for="{{ forloop.counter }}">{{ option }}</label>
                      </div>
                      {% endfor %}
                    </div>
                  {% else %}
                    <input
                      type="{{field.field_type}}"
                      class="input_base_red"
                      placeholder="Введіть текст"
                      maxlength="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
                    />
                {% endif %}
                {% if field.help_info %}
                  <p class="offset-left-5">
                    <small class="text-small-muted">{{field.help_info}}</small>
                  </p>
                {% endif %}
              </div>
            {% endfor %}
            {% if combined_block.allow_dublicate %}
              <div class="d-flex justify-content-end marg_top-20">
                <button class="button_red_outline" id="add-one-more-block" style="display: flex;">
                  <p>Додати ще</p>
                </button>
              </div>
            {% endif %}
      </div>
      <div class="relative">
        <div href="#" class="dropdown-setting">
          <a href="#" class="trigger">
            <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
          </a>
          <div class="dropdown-menu-setting">
            <a href="{% url 'edit_combined_block' block_template.id combined_block.id %}" class="dropdown-item">Редагувати</a>
            <a href="{% url 'add_combined_block_to_template' combined_block.id %}" class="dropdown-item">До шаблонів</a>
            <a href="{% url 'delete_combined_block' block_template.id combined_block.id %}" class="dropdown-item red">Видалити</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
    {% endif %}
    <div class="group-info marg_bottom-20">
      {% for description_field in description_fields %}
        {% if not description_field.is_combined %}
        <div class="d-flex align-items-center justify-content-between main-title-menu">
          <div class="wrap-quest">
            <h3>{{ description_field.title }}</h3>
            <p>{{ description_field.description }}</p>
          </div>
          <div class="relative">
            <div href="#" class="dropdown-setting">
              <a href="#" class="trigger">
                <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
              </a>
              <div class="dropdown-menu-setting">
                <a href="{% url 'update_header_block' description_field.id %}" class="dropdown-item">Редагувати</a>
                <a href="{% url 'add_description_to_template' description_field.id %}" class="dropdown-item">До шаблонів</a>
                <a href="{% url 'delete_header_block' description_field.id %}" class="dropdown-item red">Видалити</a>
              </div>
            </div>
          </div>
        </div>
        <div class="marg_bottom-20"></div>
        {% endif %}
      {% endfor %}
      <!-- Fields -->
      {% for field in fields %}
        {% if not field.is_combined %}
        <div class="wrap-quest marg_top-25">
          <div class="group-form">
            <label for="{{field.name}}" class="input_label">{{field.name}}</label>
            {% if field.is_required %}
            <p>
              <img src="{% static 'images/icons/required.svg' %}" alt="" />
            </p>
            {% endif %}
          </div>
        </div>
        {% if field.field_type == 'textarea' %}
          <div class="d-flex justify-content-between align-items-center main-title-menu">
            <div class="wrap-quest">
              <div class="textarea-quest">
                <textarea class="input_base_red" placeholder="Введіть текст"></textarea>
              </div>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'update_textarea_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'select' %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <select class="input_base_red">
                {% for option in field.options|json_loads %}
                <option value="{{option}}">{{option}}</option>
                {% endfor %}
              </select>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'update_select_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'radio' %}
          <!-- Loop -->
          <div class="d-flex justify-content-between align-items-center main-title-menu">
            <div class="wrap-quest">
              <div class="multi-container marg_top-10">
                {% for option in field.options|json_loads %}
                <div class="marg_top-10 offset-left-20">
                  <input type="radio" value="{{ options }}" name="name" />
                  <label for="{{ forloop.counter }}">{{ option }}</label>
                </div> 
                {% endfor %}
              </div>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'edit_one_value' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'checkbox' %}
          <!-- Loop -->
          <div class="d-flex justify-content-between align-items-center main-title-menu">
            <div class="wrap-quest">
              <div class="multi-container marg_top-10">
                {% for option in field.options|json_loads %}
                <div class="radio-container marg_top-10 offset-left-20">
                  <label class="checkbox">
                    <input type="checkbox" />
                    <div class="circle"></div>
                    <div class="box">
                      <span class="checkmark"></span>
                    </div>
                  </label>
                  <p>{{ option }}</p>
                </div>
                {% endfor %}
              </div>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'edit_multiple_values' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'boolean' %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <div class="radio-container marg_top-10">
                <input type="radio" name="some" value="true" />
                <label for="true">Так</label>
                <input type="radio" name="some" value="false" />
                <label for="false">Ні</label>
              </div>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'edit_yes_or_no' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'number' and field.extra_tag %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <div class="d-flex phoneForm">
                <select class="input_base languageDropdown"></select>
                <div class="selectedLanguage"></div>
                <input type="phone" class="input_base phoneNumberInput" />
              </div>
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'edit_phone_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'date' %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <input
                type="{{field.field_type}}"
                class="input_base_red"
                maxlength="{{ field.max_symbols }}"
                max="{{field.max_symbols}}"
              />
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'edit_date_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% elif field.field_type == 'number' %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <input
                type="{{field.field_type}}"
                class="input_base_red"
                placeholder="Введіть число"
                max="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
              />
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'update_text_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <div class="d-flex justify-content-between main-title-menu">
            <div class="wrap-quest">
              <input
                type="{{field.field_type}}"
                class="input_base_red"
                placeholder="Введіть текст"
                maxlength="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
              />
            </div>
            <div class="relative">
              <div href="#" class="dropdown-setting">
                <a href="#" class="trigger">
                  <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
                </a>
                <div class="dropdown-menu-setting">
                  <a href="{% url 'update_text_field' field.id %}" class="dropdown-item">Редагувати</a>
                  <a href="{% url 'add_field_to_template' field.id %}" class="dropdown-item">До шаблонів</a>
                  <a href="{% url 'delete_field' field.id %}" class="dropdown-item red">Видалити</a>
                </div>
              </div>
            </div>
          </div>
      {% endif %}
        {% if field.help_info and not field.is_combined %}
          <p class="offset-left-5">
            <small class="text-small-muted">{{field.help_info}}</small>
          </p>
        {% endif %}
        {% endif %}
      {% endfor %}
    </div>
    {% for template in block_template.library_templates.all %}
      {% if template.description_field %}
        <h3 class="marg_bottom-10">{{ template.description_field.title }}</h3>
        <p class="">{{ template.description_field.description }}</p>
      {% endif %}
      {% if template.field %}
        {% with template.field as field %}
        <div class="d-flex align-items-center justify-content-between main-title-menu marg_top-20">
          <div class="wrap-quest">
            <div class="group-form">
              <label for="{{field.name}}" class="input_label">{{field.name}}</label>
              {% if field.is_required %}
                <p>
                  <img src="{% static 'images/icons/required.svg' %}" alt="" />
                </p>
              {% endif %}
            </div>
            {% if field.field_type == 'textarea' %}
              <div class="d-flex justify-content-between main-title-menu">
                <div class="w-100">
                  <textarea
                    id="{{field.name}}"
                    style="min-height: 100px;"
                    class="input_base_red"
                    placeholder="Введіть текст"
                    maxlength="{{ field.max_symbols }}"></textarea>
                </div>
              </div>
            {% elif field.field_type == 'number' and field.extra_tag == 'phone' %}
              <div class="d-flex phoneForm">
                <select class="input_base languageDropdown"></select>
                <div class="selectedLanguage"></div>
                <input type="text" class="input_base phoneNumberInput" />
              </div>
              <!-- <input
                type="{{field.field_type}}"
                class="input_base_red"
                placeholder="Введіть число"
                max="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
              /> -->
            {% elif field.field_type == 'date' %}
              <input
                type="{{field.field_type}}"
                class="input_base_red"
                maxlength="{{ field.max_symbols }}"
                max="{{field.max_symbols}}"
              />
            {% elif field.field_type == 'boolean' %}
              <div class="radio-container offset-left-20">
                <input type="radio" name="some" value="true" />
                <label for="true">Так</label>
                <input type="radio" name="some" value="false" />
                <label for="false">Ні</label>
              </div>
            {% elif field.field_type == 'checkbox' %}
              <div class="radio-container marg_top-10 offset-left-20">
                {% for option in field.options %}
                  <div class="d-flex g-30">
                    <label class="checkbox">
                      <input type="checkbox" />
                      <div class="circle"></div>
                      <div class="box">
                        <span class="checkmark"></span>
                      </div>
                    </label>
                    <p>{{ option }}</p>
                  </div>
                {% endfor %}
              </div>
            {% elif field.field_type == 'select' %}
              <select class="input_base_red">
                {% for option in field.options %}
                  <option value="{{option}}">{{option}}</option>
                {% endfor %}
              </select>
            {% elif field.field_type == 'radio' %}
              <div class="radio-container marg_top-10 offset-left-20">
                {% for option in field.options %}
                <div class="d-flex g-30">
                  <input type="radio" value="{{ options }}" name="name" />
                  <label for="{{ forloop.counter }}">{{ option }}</label>
                </div>
                {% endfor %}
              </div>
            {% else %}
              <input
                type="{{field.field_type}}"
                class="input_base_red"
                placeholder="Введіть текст"
                maxlength="{% if field.static_value %}{{ field.static_value }}{% else %}{{field.max_symbols}}{% endif %}"
              />
            {% endif %}
            {% if field.help_info %}
              <p class="offset-left-5">
                <small class="text-small-muted">{{field.help_info}}</small>
              </p>
            {% endif %}
          </div>
          <div class="relative">
            <div href="#" class="dropdown-setting">
              <a href="#" class="trigger">
                <img src="{% static 'images/icons/hr--menu.svg' %}" alt="" />
              </a>
              <div class="dropdown-menu-setting">
                <!-- <a href="#" class="dropdown-item d-flex align-items-center">
                  <svg class="offset-right-5" width="12" height="12" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 14.2512V18.0012H3.75L14.81 6.94125L11.06 3.19125L0 14.2512ZM17.71 4.04125C18.1 3.65125 18.1 3.02125 17.71 2.63125L15.37 0.291249C14.98 -0.0987512 14.35 -0.0987512 13.96 0.291249L12.13 2.12125L15.88 5.87125L17.71 4.04125Z" fill="currentColor"/>
                  </svg>                    
                  Редагувати
                </a> -->
                <a href="{% url 'remove_library_template_from_block' template.id %}" class="dropdown-item red d-flex align-items-center">
                  <svg class="offset-right-5" width="11" height="13" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.00244 16C1.00244 17.1 1.90244 18 3.00244 18H11.0024C12.1024 18 13.0024 17.1 13.0024 16V4H1.00244V16ZM14.0024 1H10.5024L9.50244 0H4.50244L3.50244 1H0.00244141V3H14.0024V1Z" fill="currentColor"/>
                  </svg>                    
                  Видалити
                </a>
              </div>
            </div>
          </div>
        </div>
        {% endwith %}
      {% endif %}
    {% endfor %}
    <div class="d-flex justify-content-center marg_bottom-20 marg_top-25">
      <div href="#" class="dropdown-setting relative">
        <a href="#" class="add-extra-field trigger">
          <img src="{% static 'images/icons/plus.svg' %}" alt="" />
        </a>
        <div class="dropdown-menu-setting">
          <a href="{% url 'add_new_header_block' block_template.id %}" class="dropdown-item">Назва (заголовок) і опис</a>
          <a href="{% url 'add_new_field' block_template.id %}"class="dropdown-item">Поле для вводу</a>
          <a href="{% url 'add_new_textarea_field' block_template.id %}"class="dropdown-item">Поле для опису</a>
          <a href="{% url 'add_new_select_field' block_template.id %}" class="dropdown-item">Випадаючий список</a>
          <a href="{% url 'add_new_one_value' block_template.id %}"class="dropdown-item">Вибрати одне значення</a>
          <a href="{% url 'add_new_multiple_value' block_template.id %}"class="dropdown-item">Вибрати декілька значень</a>
          <a href="{% url 'add_new_boolean_field' block_template.id %}" class="dropdown-item">Так або ні</a>
          <a href="{% url 'add_new_phone_field' block_template.id %}" class="dropdown-item">Телефон</a>
          <a href="{% url 'add_new_date_field' block_template.id %}" class="dropdown-item">Дата</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock main %}
<!--Sctipts-->
{% block scripts %}
<script src="{% static 'js/fields.js' %}"></script>
<script src="{% static 'js/app.js' %}"></script>
<script src="{% static 'js/utils/phoneNumber.js' %}"></script>
<script src="{% static 'js/questionnaire/init.js' %}"></script>
{% endblock scripts %}
<!--Scripts-->
